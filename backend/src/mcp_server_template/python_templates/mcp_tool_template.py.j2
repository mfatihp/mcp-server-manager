from fastapi import FastAPI, Body
from mcp_utils.logger import log_success_responses
import uvicorn


mcp = FastAPI()

mcp.middleware("http")(log_success_responses)

def {{ name -}}({{- f_args -}}):
{%- filter indent(width=4) %}
"""
{{- docstr }}
"""
{{- mcp_function }}
{% endfilter %}


@mcp.{{ o_type }}("/{{name}}")
def mcp_service(items: dict = Body(...)):
    resp = {{ name -}}(**items)
    return {"Response": resp}